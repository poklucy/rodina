<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Родина</title>
  <link rel="stylesheet" href="./pages/index.css" />
  <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
</head>
<body class="page page__content">

  <header class="header">
    <nav class="header__nav">
      <ul class="header__nav-list">
        <li class="header__nav-item">
          <a href="tel:+74953331122">+7 495 333 11 22</a>
          <button class="favorite_button">
            <div class="favorite_button-img"></div>
            <div>12</div>
          </button>
        </li>
        <li class="header__nav-item center">
          <a href="#"><img class="header__logo" src="./images/logo.svg" alt="Логотип Родина"></a>
        </li>
        <li class="header__nav-item">
          <button class="accent-button">Оставить заявку</button>
        </li>
      </ul>
    </nav>

    <nav class="header__nav-active header__nav-active_hidden">
      <ul class="header__nav-active-list">
        <li class="header__nav-active-item header__nav-active-item-accent">
          <ul class="header__nav-active-sublist">
            <li><button class="volume_button">Выкл.</button></li>
            <li class="header_text">компания</li>
            <li class="header_text">кластеры</li>
            <li class="header_text">проекты</li>
          </ul>
        </li>
        <li class="header__nav-active-item">
          <a href="#"><img class="header__logo-active" src="./images/logo_active.svg" alt="Логотип Родина"></a>
        </li>
        <li class="header__nav-active-item header__nav-active-item-accent">
          <ul class="header__nav-active-sublist">
            <li class="header_text">Офисная недвижимость</li>
            <li class="header_text">пресс-центр</li>
            <li class="header_text">Контакты</li>
          </ul>
        </li>
      </ul>
    </nav>

    <button class="burger_button"></button>
  </header>

  <main class="main">
    <section class="filter__section-background">
      <div class="filter__section">
        <h1 class="title main_title">Офисные кластеры от Группы Родина</h1>
        <div class="filter__content">
          <h2 class="title">Выбрать офис</h2>
          <ul class="filter__content-list">
            <li class="filter__section-item">
              <div class="custom-dropdown">
                <button class="dropdown-toggle">Выберите проект</button>
                <ul class="dropdown-menu">
                  <li class="dropdown-item" data-value="1">Родина Парк</li>
                  <li class="dropdown-item" data-value="2">Родина Переделкино</li>
                </ul>
              </div>
            </li>
            <li class="filter__section-item">
              <button class="filter-button">
                <div class="range-info">
                  <div><span id="lower-value">872</span><span class="unit"> м²</span></div>
                  <div><span id="upper-value">2102</span><span class="unit"> м²</span></div>
                </div>
                <div class="range-slider">
                  <input type="range" id="lower" min="700" max="2200" step="1" value="700" oninput="updateRange()">
                  <input type="range" id="upper" min="700" max="2200" step="1" value="2200" oninput="updateRange()">
                  <div class="range-bar"></div>
                </div>
              </button>
            </li>
            <li class="filter__section-item">
              <button class="filter-button">
                <div class="range-info">
                  <div><span id="lower-value">12 213 000</span><span class="unit"> ₽</span></div>
                  <div><span id="upper-value">101 023 012</span><span class="unit"> ₽</span></div>
                </div>
                <div class="range-slider">
                  <input type="range" id="lower" min="12 213 000" max="101 023 012" step="1" value="700" oninput="updateRange()">
                  <input type="range" id="upper" min="12 213 000" max="101 023 012"  step="1" value="2200" oninput="updateRange()">
                  <div class="range-bar"></div>
                </div>
              </button>
            </li>
            <li class="filter__section-item">
              <button class="accent-button">смотреть 561 вариант</button>
            </li>
          </ul>
          <button class="reset_button">
            <p class="uppercase-text">Сбросить</p>
            <div class="reset_button-item"></div>
          </button>
        </div>
      </div>
    </section>
    <div class="container">
      <div></div>
      <section class="action__section">
      <h2 class="title dark">АКЦИИ</h2>
      <div class="action_template">
        <div class="action_template-header">
          <h3 class="title-template">Беспроцентная рассрочка</h3>
          <h4 class="subtitle-template">До 5 лет</h4>
        </div>
        <div class="action-accent"></div>
        <div class="action-text">Группа Родина запустила авторский курс «Основы девелопмента», разработанный Цикл лекций и семинаров предоставит магистрам...</div>
      </div>
    </section>
      <div></div>
    </div>
    <section class="form__section">
      <form class="form__content">
        <div class="form__container">
          <h2 class="title white">Получить консультацию по этому офису</h2>
          <div class="form__container-input">
            <div class="form-input">
              <input type="text" name="name" placeholder="Как вас зовут?" data-required="true">
            </div>
            <div class="form-input">
              <input type="text" name="phone" placeholder="Ваш номер телефона" data-required="true">
            </div>
          </div>
          <div class="checkbox__container">
            <div class="checkbox-wrapper">
              <label class="custom-checkbox">
                <input class="hidden-checkbox" type="checkbox">
                <div class="checkbox"></div>
                <span class="checkbox-text">Согласие на обработку персональных данных</span>
              </label>
            </div>
            <div class="checkbox-wrapper">
              <label class="custom-checkbox">
                <input class="hidden-checkbox" type="checkbox">
                <div class="checkbox"></div>
                <span class="checkbox-text">Согласие на получение рекламных сообщений</span>
              </label>
            </div>
          </div>
          <button class="accent-button" type="submit" onclick="return false">Отправить</button>
        </div>
      </form>
      <div class="form__section-background"></div>
    </section>
  </main>

  <footer class="footer">
   <nav class="footer__nav">
     <ul class="footer__nav-list">
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Проекты</a></li>
           <li class="uppercase-text footer_text"><a href="#">новогорск</a></li>
           <li class="uppercase-text footer_text"><a href="#">RUssian design district</a></li>
           <li class="uppercase-text footer_text"><a href="#">союз</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">О группе</a></li>
           <li class="uppercase-text footer_text"><a href="#">Группа «Родина»</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Кластеры</a></li>
           <li class="uppercase-text footer_text"><a href="#">Уникальность формата</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Офисная недвижимость</a></li>
           <li class="uppercase-text footer_text"><a href="#">Родина Парк</a></li>
           <li class="uppercase-text footer_text"><a href="#">Родина Переделкино</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Пресс-центр</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Контакты</a></li>
         </ul>
       </li>
     </ul>
   </nav>
  </footer>


<script>
  const burgerButton = document.querySelector('.burger_button');
  const closeButton = document.createElement('div');
  closeButton.classList.add('close_button');
  const mainNav = document.querySelector('.header__nav');
  const activeNav = document.querySelector('.header__nav-active');


  burgerButton.addEventListener('click', () => {
    mainNav.classList.add('header__nav_hidden');

    activeNav.classList.remove('header__nav-active_hidden');
    activeNav.classList.add('header__nav-active_visible');

    burgerButton.style.display = 'none';
    burgerButton.parentNode.appendChild(closeButton);
  });

  closeButton.addEventListener('click', () => {

    mainNav.classList.remove('header__nav_hidden');

    activeNav.classList.add('header__nav-active_hidden');
    activeNav.classList.remove('header__nav-active_visible');

    closeButton.remove();
    burgerButton.style.display = 'block';
  });

  document.querySelector('.dropdown-toggle').addEventListener('click', function () {
    this.parentElement.classList.toggle('open');
  });

  document.querySelectorAll('.dropdown-item').forEach(item => {
    item.addEventListener('click', function () {
      const value = this.dataset.value; // Получение значения
      const text = this.textContent;   // Получение текста

      // Установка значения в заголовок
      const dropdown = this.closest('.custom-dropdown');
      dropdown.querySelector('.dropdown-toggle').textContent = text;

      // Закрытие меню
      dropdown.classList.remove('open');
    });
  });
  function updateRange(sliderContainer) {
    const lower = sliderContainer.querySelector('.range-slider #lower'); // Первый ползунок
    const upper = sliderContainer.querySelector('.range-slider #upper'); // Второй ползунок

    const lowerValue = sliderContainer.querySelector('.range-info #lower-value'); // Нижний предел
    const upperValue = sliderContainer.querySelector('.range-info #upper-value'); // Верхний предел

    const rangeBar = sliderContainer.querySelector('.range-slider .range-bar'); // Полоса между ползунками
    const min = parseInt(lower.min.replace(/\s/g, '')); // Минимальное значение
    const max = parseInt(upper.max.replace(/\s/g, '')); // Максимальное значение

    // Значения текущих позиций ползунков
    let lowerVal = parseInt(lower.value.replace(/\s/g, ''));
    let upperVal = parseInt(upper.value.replace(/\s/g, ''));

    // Контролируем корректность диапазона
    if (lowerVal > upperVal) {
      lowerVal = upperVal;
      lower.value = upper.value;
    }

    // Обновляем отображение значений
    lowerValue.textContent = formatNumber(lower.value) || lower.value;
    upperValue.textContent = formatNumber(upper.value) || upper.value;

    // Вычисляем проценты для позиционирования полоски
    const lowerPercent = ((lowerVal - min) / (max - min)) * 100;
    const upperPercent = ((upperVal - min) / (max - min)) * 100;

    // Обновляем стили полоски
    rangeBar.style.left = `${lowerPercent}%`;
    rangeBar.style.width = `${upperPercent - lowerPercent}%`;
    rangeBar.style.background = '#FF5E64';
  }

  // Форматирование чисел (с пробелами)
  function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
  }

  // Добавление обработчиков для всех диапазонов
  document.querySelectorAll('.filter__section-item').forEach((item) => {
    const sliders = item.querySelectorAll('.range-slider input[type="range"]');
    sliders.forEach((slider) => {
      slider.addEventListener('input', () => updateRange(item));
    });
  });


</script>


</body>
</html>
