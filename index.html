<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Родина</title>
  <link rel="stylesheet" href="./pages/index.css" />
  <script src="https://maps.api.2gis.ru/2.0/loader.js?pkg=full"></script>
  <script type="text/javascript">
    var map;

    DG.then(function () {
      map = DG.map('map', {
        center: [55.685566, 37.435647],
        zoom: 11,
        style: 'default-v2-dark',
        defaultBackgroundColor: '#3b3b3b',
      });

      // Кастомная метка
      var customIcon = DG.icon({
        iconUrl: 'images/map.svg', // Ссылка на изображение иконки
        iconSize: [40, 40], // Размер иконки
        iconAnchor: [20, 40], // Точка привязки иконки (центр внизу)
      });

      // Первая метка
      DG.marker([55.712812, 37.442356], {
        icon: customIcon,
        label: `
                Родина парк<br>
                16 офисов
            `
      }).addTo(map);

      // Вторая метка
      DG.marker([55.636288, 37.352692], {
        icon: customIcon,
        label:  `
                Родина переделкино<br>
                16 офисов
            `
      }).addTo(map);
    });
  </script>
</head>
<body class="page page__content">

  <header class="header">
    <nav class="header__nav">
      <ul class="header__nav-list">
        <li class="header__nav-item">
          <a href="tel:+74953331122">+7 495 333 11 22</a>
          <button class="favorite_button">
            <div class="favorite_button-white-img"></div>
            <div>12</div>
          </button>
        </li>
        <li class="header__nav-item center">
          <a href="#"><img class="header__logo" src="./images/logo.svg" alt="Логотип Родина"></a>
        </li>
        <li class="header__nav-item">
          <button class="accent-button">Оставить заявку</button>
        </li>
      </ul>
    </nav>

    <nav class="header__nav-active header__nav-active_hidden">
      <ul class="header__nav-active-list">
        <li class="header__nav-active-item header__nav-active-item-accent">
          <ul class="header__nav-active-sublist">
            <li><button class="volume_button">Выкл.</button></li>
            <li class="header_text"><a href="#">компания</a></li>
            <li class="header_text"><a href="#">кластеры</a></li>
            <li class="header_text"><a href="#">проекты</a></li>
          </ul>
        </li>
        <li class="header__nav-active-item">
          <a href="#"><img class="header__logo-active" src="./images/logo_active.svg" alt="Логотип Родина"></a>
        </li>
        <li class="header__nav-active-item header__nav-active-item-accent">
          <ul class="header__nav-active-sublist">
            <li class="header_text"><a href="#">Офисная недвижимость</a></li>
            <li class="header_text"><a href="#">пресс-центр</a></li>
            <li class="header_text"><a href="#">Контакты</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <button class="burger_button"></button>
  </header>

  <main class="main">
    <section class="filter__section-background">
      <div class="filter__section">
        <h1 class="title main_title">Офисные кластеры от Группы Родина</h1>
        <div class="filter__content">
          <h2 class="title">Выбрать офис</h2>
          <ul class="filter__content-list">
            <li class="filter__section-item">
              <div class="custom-dropdown">
                <button class="dropdown-toggle">Выберите проект</button>
                <ul class="dropdown-menu">
                  <li class="dropdown-item" data-value="1">Родина Парк</li>
                  <li class="dropdown-item" data-value="2">Родина Переделкино</li>
                </ul>
              </div>
            </li>
            <li class="filter__section-item">
              <button class="filter-button">
                <div class="range-info">
                  <div><span id="lower-value">872</span><span class="unit"> м²</span></div>
                  <div><span id="upper-value">2102</span><span class="unit"> м²</span></div>
                </div>
                <div class="range-slider">
                  <input type="range" id="lower" min="700" max="2200" step="1" value="700" oninput="updateRange()">
                  <input type="range" id="upper" min="700" max="2200" step="1" value="2200" oninput="updateRange()">
                  <div class="range-bar"></div>
                </div>
              </button>
            </li>
            <li class="filter__section-item">
              <button class="filter-button">
                <div class="range-info">
                  <div><span id="lower-value">12 213 000</span><span class="unit"> ₽</span></div>
                  <div><span id="upper-value">101 023 012</span><span class="unit"> ₽</span></div>
                </div>
                <div class="range-slider">
                  <input type="range" id="lower" min="12 213 000" max="101 023 012" step="1" value="700" oninput="updateRange()">
                  <input type="range" id="upper" min="12 213 000" max="101 023 012"  step="1" value="2200" oninput="updateRange()">
                  <div class="range-bar"></div>
                </div>
              </button>
            </li>
            <li class="filter__section-item">
              <button class="accent-button">смотреть 561 вариант</button>
            </li>
          </ul>
          <button class="reset_button">
            <p class="uppercase-text">Сбросить</p>
            <div class="reset_button-item"></div>
          </button>
        </div>
      </div>
    </section>
    <div class="color-container">
      <div class="container">
        <div></div>
        <section class="location__section">
          <h2 class="title dark">Расположение</h2>
          <div id="map"></div>
        </section>
        <div></div>

        <section class="information__section">
          <div class="information__template">
            <div class="information__template-description">
              <div class="information__template-header">
                <h2 class="title white">Родина Переделкино</h2>
                <button class="accent-button">подробнее</button>
              </div>
              <ul class="information__template-list">
                <li class="information__template-item">
                  <ul class="information__template-sublist">
                    <li>Офисы класса А от 14 млн. ₽</li>
                    <li class="location">Боровское ш., вл. 51</li>
                  </ul>
                </li>
                <li class="information__template-item">
                  <ul class="information__template-sublist">
                    <li class="metro-yellow">Новопеределкино</li>
                    <li class="foot">5 мин</li>
                    <li class="car">2 мин</li>
                  </ul>
                </li>
                <li class="information__template-item">
                  <ul class="information__template-sublist">
                    <li class="metro-red">Саларьево</li>
                    <li class="foot">18 мин</li>
                    <li class="cycle">7 мин</li>
                  </ul>
                </li>
                <li class="information__template-item">
                  <ul class="list-decoration">
                    <li class="">Готовность IV квартал 2026</li>
                    <li class="">Премиальная инфраструктура</li>
                    <li class="">Подземный паркинг с мойкой и сервисом</li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
          <div class="sidebar"></div>
          <div class="card-container">
            <div class="card-template">
              <div class="card">
                <div class="header__card">
                  <div class="number_card">№ 23</div>
                  <div class="button_card-container">
                    <button class="favorite_button">
                      <div class="favorite_button-img"></div>
                    </button>
                    <button class="pdf_button">
                      <div class="pdf_button-img"></div>
                    </button>
                  </div>
                </div>
                <div class="card__image"><img src="images/1.jpg"></div>
                <div class="footer__card">
                  <table class="footer__card-table">
                    <tr>
                      <td>Этаж</td>
                      <td>Количество<br>рабочих мест</td>
                      <td>Стоимость м²</td>
                    </tr>
                    <tr>
                      <td>3</td>
                      <td>32</td>
                      <td>250 000  ₽</td>
                    </tr>
                  </table>
                  <div class="footer__card-accent"></div>
                  <div class="footer_item">
                    <div class="footer-text">87 м²</div>
                    <div class="footer-text">18 146 000 ₽</div>
                  </div>
                </div>
              </div>
              <button class="button_card">подробнее</button>
            </div>
            <div class="card-template">
              <div class="card">
                <div class="header__card">
                  <div class="number_card">№ 48</div>
                  <div class="button_card-container">
                    <button class="favorite_button">
                      <div class="favorite_button-img"></div>
                    </button>
                    <button class="pdf_button">
                      <div class="pdf_button-img"></div>
                    </button>
                  </div>
                </div>
                <div class="card__image"><img src="images/2.jpg"></div>
                <div class="footer__card">
                  <table class="footer__card-table">
                    <tr>
                      <td>Этаж</td>
                      <td>Количество<br>рабочих мест</td>
                      <td>Стоимость м²</td>
                    </tr>
                    <tr>
                      <td>2</td>
                      <td>27</td>
                      <td>252 000  ₽</td>
                    </tr>
                  </table>
                  <div class="footer__card-accent"></div>
                  <div class="footer_item">
                    <div class="footer-text">36 м²</div>
                    <div class="footer-text">19 076 000 ₽</div>
                  </div>
                </div>
              </div>
              <button class="button_card">подробнее</button>
            </div>
            <div class="card-template">
              <div class="card">
                <div class="header__card">
                  <div class="number_card">№ 12</div>
                  <div class="button_card-container">
                    <button class="favorite_button">
                      <div class="favorite_button-img"></div>
                    </button>
                    <button class="pdf_button">
                      <div class="pdf_button-img"></div>
                    </button>
                  </div>
                </div>
                <div class="card__image"><img src="images/3.jpg"></div>
                <div class="footer__card">
                  <table class="footer__card-table">
                    <tr>
                      <td>Этаж</td>
                      <td>Количество<br>рабочих мест</td>
                      <td>Стоимость м²</td>
                    </tr>
                    <tr>
                      <td>1</td>
                      <td>48</td>
                      <td>256 000  ₽</td>
                    </tr>
                  </table>
                  <div class="footer__card-accent"></div>
                  <div class="footer_item">
                    <div class="footer-text">52.3 м²</div>
                    <div class="footer-text">23 861 000 ₽</div>
                  </div>
                </div>
              </div>
              <button class="button_card">подробнее</button>
            </div>
          </div>
          <div class="sidebar"></div>
          <div class="accent-button margin_auto">смотреть 25 вариантов</div>
        </section>
        <div></div>

        <section class="information__section">
          <div class="information__template">
            <div class="information__template-description">
              <div class="information__template-header">
                <h2 class="title white">Родина Переделкино</h2>
                <button class="accent-button">подробнее</button>
              </div>
              <ul class="information__template-list">
                <li class="information__template-item">
                  <ul class="information__template-sublist">
                    <li>Офисы класса А от 14 млн. ₽</li>
                    <li class="location">Боровское ш., вл. 51</li>
                  </ul>
                </li>
                <li class="information__template-item">
                  <ul class="information__template-sublist">
                    <li class="metro-yellow">Новопеределкино</li>
                    <li class="foot">5 мин</li>
                    <li class="car">2 мин</li>
                  </ul>
                </li>
                <li class="information__template-item">
                  <ul class="information__template-sublist">
                    <li class="metro-red">Саларьево</li>
                    <li class="foot">18 мин</li>
                    <li class="cycle">7 мин</li>
                  </ul>
                </li>
                <li class="information__template-item">
                  <ul class="list-decoration">
                    <li class="">Готовность IV квартал 2026</li>
                    <li class="">Премиальная инфраструктура</li>
                    <li class="">Подземный паркинг с мойкой и сервисом</li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
          <div class="sidebar"></div>
          <div class="card-container">
            <div class="card-template">
              <div class="card">
                <div class="header__card">
                  <div class="number_card">№ 23</div>
                  <div class="button_card-container">
                    <button class="favorite_button">
                      <div class="favorite_button-img"></div>
                    </button>
                    <button class="pdf_button">
                      <div class="pdf_button-img"></div>
                    </button>
                  </div>
                </div>
                <div class="card__image"><img src="images/1.jpg"></div>
                <div class="footer__card">
                  <table class="footer__card-table">
                    <tr>
                      <td>Этаж</td>
                      <td>Количество<br>рабочих мест</td>
                      <td>Стоимость м²</td>
                    </tr>
                    <tr>
                      <td>3</td>
                      <td>32</td>
                      <td>250 000  ₽</td>
                    </tr>
                  </table>
                  <div class="footer__card-accent"></div>
                  <div class="footer_item">
                    <div class="footer-text">87 м²</div>
                    <div class="footer-text">18 146 000 ₽</div>
                  </div>
                </div>
              </div>
              <button class="button_card">подробнее</button>
            </div>
            <div class="card-template">
              <div class="card">
                <div class="header__card">
                  <div class="number_card">№ 48</div>
                  <div class="button_card-container">
                    <button class="favorite_button">
                      <div class="favorite_button-img"></div>
                    </button>
                    <button class="pdf_button">
                      <div class="pdf_button-img"></div>
                    </button>
                  </div>
                </div>
                <div class="card__image"><img src="images/2.jpg"></div>
                <div class="footer__card">
                  <table class="footer__card-table">
                    <tr>
                      <td>Этаж</td>
                      <td>Количество<br>рабочих мест</td>
                      <td>Стоимость м²</td>
                    </tr>
                    <tr>
                      <td>2</td>
                      <td>27</td>
                      <td>252 000  ₽</td>
                    </tr>
                  </table>
                  <div class="footer__card-accent"></div>
                  <div class="footer_item">
                    <div class="footer-text">36 м²</div>
                    <div class="footer-text">19 076 000 ₽</div>
                  </div>
                </div>
              </div>
              <button class="button_card">подробнее</button>
            </div>
            <div class="card-template">
              <div class="card">
                <div class="header__card">
                  <div class="number_card">№ 12</div>
                  <div class="button_card-container">
                    <button class="favorite_button">
                      <div class="favorite_button-img"></div>
                    </button>
                    <button class="pdf_button">
                      <div class="pdf_button-img"></div>
                    </button>
                  </div>
                </div>
                <div class="card__image"><img src="images/3.jpg"></div>
                <div class="footer__card">
                  <table class="footer__card-table">
                    <tr>
                      <td>Этаж</td>
                      <td>Количество<br>рабочих мест</td>
                      <td>Стоимость м²</td>
                    </tr>
                    <tr>
                      <td>1</td>
                      <td>48</td>
                      <td>256 000  ₽</td>
                    </tr>
                  </table>
                  <div class="footer__card-accent"></div>
                  <div class="footer_item">
                    <div class="footer-text">52.3 м²</div>
                    <div class="footer-text">23 861 000 ₽</div>
                  </div>
                </div>
              </div>
              <button class="button_card">подробнее</button>
            </div>
          </div>
          <div class="sidebar"></div>
          <div class="accent-button margin_auto">смотреть 25 вариантов</div>
        </section>
        <div></div>
      </div>
    </div>
    <div class="container">
      <div></div>
      <section class="action__section">
        <h2 class="title dark">АКЦИИ</h2>
        <div class="template-container">
          <div class="action_template">
            <div class="action_template-header">
              <h3 class="title-template">Беспроцентная рассрочка</h3>
              <h4 class="subtitle-template">До 5 лет</h4>
            </div>
            <div class="action-accent"></div>
            <div class="action-text">Группа Родина запустила авторский курс «Основы девелопмента», разработанный Цикл лекций и семинаров предоставит магистрам...</div>
          </div>
          <div class="action_template">
            <div class="action_template-header">
              <h3 class="title-template">Trade in</h3>
              <h4 class="subtitle-template">Вашего помещения</h4>
            </div>
            <div class="action-accent"></div>
            <div class="action-text">Группа Родина запустила авторский курс «Основы девелопмента», разработанный Цикл лекций и семинаров предоставит магистрам...</div>
          </div>
        </div>
        <div class="sidebar"></div>
    </section>
      <div></div>
    </div>
    <section class="form__section">
      <form class="form__content">
        <div class="form__container">
          <h2 class="title white">Получить консультацию по этому офису</h2>
          <div class="form__container-input">
            <div class="form-input">
              <input type="text" name="name" placeholder="Как вас зовут?" data-required="true">
            </div>
            <div class="form-input">
              <input type="text" name="phone" placeholder="Ваш номер телефона" data-required="true">
            </div>
          </div>
          <div class="checkbox__container">
            <div class="checkbox-wrapper">
              <label class="custom-checkbox">
                <input class="hidden-checkbox" type="checkbox">
                <div class="checkbox"></div>
                <span class="checkbox-text">Согласие на обработку персональных данных</span>
              </label>
            </div>
            <div class="checkbox-wrapper">
              <label class="custom-checkbox">
                <input class="hidden-checkbox" type="checkbox">
                <div class="checkbox"></div>
                <span class="checkbox-text">Согласие на получение рекламных сообщений</span>
              </label>
            </div>
          </div>
          <button class="accent-button" type="submit" onclick="return false">Отправить</button>
        </div>
      </form>
      <div class="form__section-background"></div>
    </section>
  </main>

  <footer class="footer">
   <nav class="footer__nav">
     <ul class="footer__nav-list">
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Проекты</a></li>
           <li class="uppercase-text footer_text"><a href="#">новогорск</a></li>
           <li class="uppercase-text footer_text"><a href="#">RUssian design district</a></li>
           <li class="uppercase-text footer_text"><a href="#">союз</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">О группе</a></li>
           <li class="uppercase-text footer_text"><a href="#">Группа «Родина»</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Кластеры</a></li>
           <li class="uppercase-text footer_text"><a href="#">Уникальность формата</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Офисная недвижимость</a></li>
           <li class="uppercase-text footer_text"><a href="#">Родина Парк</a></li>
           <li class="uppercase-text footer_text"><a href="#">Родина Переделкино</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Пресс-центр</a></li>
         </ul>
       </li>
       <li class="footer__nav-item">
         <ul class="footer__nav-sublist">
           <li class="footer-header"><a href="#">Контакты</a></li>
         </ul>
       </li>
     </ul>
   </nav>
  </footer>


<script>
  const burgerButton = document.querySelector('.burger_button');
  const closeButton = document.createElement('div');
  closeButton.classList.add('close_button');
  const mainNav = document.querySelector('.header__nav');
  const activeNav = document.querySelector('.header__nav-active');


  burgerButton.addEventListener('click', () => {
    mainNav.classList.add('header__nav_hidden');

    activeNav.classList.remove('header__nav-active_hidden');
    activeNav.classList.add('header__nav-active_visible');

    burgerButton.style.display = 'none';
    burgerButton.parentNode.appendChild(closeButton);
  });

  closeButton.addEventListener('click', () => {

    mainNav.classList.remove('header__nav_hidden');

    activeNav.classList.add('header__nav-active_hidden');
    activeNav.classList.remove('header__nav-active_visible');

    closeButton.remove();
    burgerButton.style.display = 'block';
  });

  document.querySelector('.dropdown-toggle').addEventListener('click', function () {
    this.parentElement.classList.toggle('open');
  });

  document.querySelectorAll('.dropdown-item').forEach(item => {
    item.addEventListener('click', function () {
      const value = this.dataset.value; // Получение значения
      const text = this.textContent;   // Получение текста

      // Установка значения в заголовок
      const dropdown = this.closest('.custom-dropdown');
      dropdown.querySelector('.dropdown-toggle').textContent = text;

      // Закрытие меню
      dropdown.classList.remove('open');
    });
  });
  function updateRange(sliderContainer) {
    const lower = sliderContainer.querySelector('.range-slider #lower'); // Первый ползунок
    const upper = sliderContainer.querySelector('.range-slider #upper'); // Второй ползунок

    const lowerValue = sliderContainer.querySelector('.range-info #lower-value'); // Нижний предел
    const upperValue = sliderContainer.querySelector('.range-info #upper-value'); // Верхний предел

    const rangeBar = sliderContainer.querySelector('.range-slider .range-bar'); // Полоса между ползунками
    const min = parseInt(lower.min.replace(/\s/g, '')); // Минимальное значение
    const max = parseInt(upper.max.replace(/\s/g, '')); // Максимальное значение

    // Значения текущих позиций ползунков
    let lowerVal = parseInt(lower.value.replace(/\s/g, ''));
    let upperVal = parseInt(upper.value.replace(/\s/g, ''));

    // Контролируем корректность диапазона
    if (lowerVal > upperVal) {
      lowerVal = upperVal;
      lower.value = upper.value;
    }

    // Обновляем отображение значений
    lowerValue.textContent = formatNumber(lower.value) || lower.value;
    upperValue.textContent = formatNumber(upper.value) || upper.value;

    // Вычисляем проценты для позиционирования полоски
    const lowerPercent = ((lowerVal - min) / (max - min)) * 100;
    const upperPercent = ((upperVal - min) / (max - min)) * 100;

    // Обновляем стили полоски
    rangeBar.style.left = `${lowerPercent}%`;
    rangeBar.style.width = `${upperPercent - lowerPercent}%`;
    rangeBar.style.background = '#FF5E64';
  }

  // Форматирование чисел (с пробелами)
  function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
  }

  // Добавление обработчиков для всех диапазонов
  document.querySelectorAll('.filter__section-item').forEach((item) => {
    const sliders = item.querySelectorAll('.range-slider input[type="range"]');
    sliders.forEach((slider) => {
      slider.addEventListener('input', () => updateRange(item));
    });
  });

  document.addEventListener('DOMContentLoaded', function () {
    const observerOptions = {
      threshold: 0.1, // Анимация запускается, если 10% элемента видны на экране
    };

    const observerCallback = (entries, observer) => {
      entries.forEach((entry) => {
        const element = entry.target;

        if (entry.isIntersecting) {
          element.classList.add('information__template-list--visible'); // Показать элемент
        } else {
          element.classList.remove('information__template-list--visible'); // Скрыть элемент
        }
      });
    };

    const observer = new IntersectionObserver(observerCallback, observerOptions);

    // Находим ВСЕ элементы с классом .information__template-description
    const animationElements = document.querySelectorAll('.information__template-list');

    // Добавляем их в наблюдатель
    animationElements.forEach((el) => observer.observe(el));
  });

  document.addEventListener("DOMContentLoaded", () => {
    const carousel = document.querySelector(".carousel");
    const slides = Array.from(document.querySelectorAll(".carousel > *"));
    const nextBtn = document.querySelector(".carousel__next");
    const prevBtn = document.querySelector(".carousel__prev");
    const carouselBar = document.querySelector(".carousel__bar");

    const slideWidth = carousel.offsetWidth;
    const totalSlides = slides.length;

    let currentIndex = totalSlides; // Начинаем с первого оригинального слайда (после дубликатов)

    // Дублируем слайды
    slides.forEach(slide => carousel.append(slide.cloneNode(true))); // Дубликаты в конец
    slides.forEach(slide => carousel.prepend(slide.cloneNode(true))); // Дубликаты в начало

    // Устанавливаем начальное смещение карусели
    carousel.scrollLeft = slideWidth * currentIndex;

    // Функция для перехода к нужному слайду
    function moveToSlide(index) {
      carousel.scrollTo({
        left: slideWidth * index,
        behavior: "smooth",
      });

      updateCarouselBar(); // Обновляем индикатор при смене слайда
    }

    // Функция для обновления состояния .carousel__bar
    function updateCarouselBar() {
      // Рассчитываем текущий оригинальный индекс (убираем дубли)
      const originalIndex = (currentIndex - totalSlides + totalSlides) % totalSlides;

      if (originalIndex === 0) {
        // Заполнение на 50% слева
        carouselBar.style.background = `linear-gradient(to right, var(--accent-color) 50%, var(--color-button) 50%)`;
      } else if (originalIndex === 1) {
        // Заполнение на 50% справа
        carouselBar.style.background = `linear-gradient(to right, var(--color-button) 50%, var(--accent-color) 50%)`;
      } else {
        // По умолчанию делать серый для остальных случаев
        carouselBar.style.background = `gray`;
      }
    }

    // Обработчик кнопки "вперед"
    nextBtn.addEventListener("click", () => {
      currentIndex++;

      moveToSlide(currentIndex);

      // Если мы дошли до конца дубликатов, "перепрыгиваем" на первый оригинальный слайд
      if (currentIndex >= slides.length * 2) {
        setTimeout(() => {
          carousel.scrollLeft = slideWidth * slides.length; // Перепрыгиваем
          currentIndex = totalSlides;
        }, 300); // Задержка равна времени анимации
      }
    });

    // Обработчик кнопки "назад"
    prevBtn.addEventListener("click", () => {
      currentIndex--;

      moveToSlide(currentIndex);

      // Если мы дошли до начала дубликатов, "перепрыгиваем" на последний оригинальный слайд
      if (currentIndex < 0) {
        setTimeout(() => {
          carousel.scrollLeft = slideWidth * (slides.length - 1); // Перепрыгиваем
          currentIndex = totalSlides - 1;
        }, 300); // Задержка равна времени анимации
      }
    });

    // Установить начальное состояние индикатора
    updateCarouselBar();
  });

</script>
</body>
</html>
